# 准备工作

## 小程序与普通网页开发的区别

1. 网页开发渲染线程跟脚本线程是互斥的；小程序中二者是分开的，分别运行在不同的线程中。
2. 网页开发可以使用到各种浏览器暴露出来的DOM API；小程序的渲染层运行在jsCode，缺少相对的DOM API和BOM API。

### 小程序的运行环境

| 运行环境 | 逻辑层 | 渲染层 |
| -- | -- | -- |
| iOS | JavaScriptCore | WKWebView|
| 安卓 | V8 | chromiun定制内核|
| 小程序开发者工具 | NWJS | Chrome WebView |

## 小程序宿主环境

### 渲染层和逻辑层

* 小程序的运行环境分成渲染层和逻辑层
  * WXML 模板和 WXSS 样式工作在渲染层
  * JS 脚本工作在逻辑层
* 小程序的渲染层和逻辑层分别由2个线程管理
  * 渲染层的界面使用了WebView 进行渲染
  * 逻辑层采用JsCore线程运行JS脚本

![小程序的通信模型](./img/小程序的通信模型.png)
