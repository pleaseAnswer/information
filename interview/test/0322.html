<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
</body>
<script>
  {
  function foo() {}
  foo = 1
  function foo() {}
  foo = 10
  console.log(11, foo)
}
console.log(111, foo)

{
  foo = 1
  function foo() {}
  foo = 10
  console.log(22, foo)
}
console.log(222, foo)

{
  function foo() {}
  foo = 1
  foo = 10
  console.log(33, foo)
}
console.log(333, foo)

{
  foo = 1
  foo = 10
  console.log(44, foo)
}
console.log(444, foo)

// 0323
// function Hero(name) {
//   let time = 0;
//   let outPut = `Hi! This is ${name}`;
//   this.kill = function(num) {
//     let outPut2 = '';
//     setTimeout(() => {
//       if(num === 1) {
//         outPut += ` Kill 1 bug`;
//         outPut2 = ` Kill 1 bug`
//       } else {
//         outPut += ` Kill ${num} bugs`;
//         outPut2 = ` Kill ${num} bugs`;
//       }
//       console.log(outPut2)
//     }, time)
//   }
//   this.recover = function(num2) {
//     outPut += ` Recover ${num2} bloods`;
//   }
//   this.sleep = function(time2) {
//     time = time2
//   }
//   console.log(outPut)
//   return outPut
// }

function Hero(name) {
  let o = new Object();
  o.name = name;
  o.time = 0;
  console.log(`Hi! This is ${o.name}`);
  o.kill = function(bugs) {
    if(bugs === 1) {
      console.log(`Kill 1 bug`)
    } else {
      setTimeout(() => {
        console.log(`Kill ${bugs} bugs`)
      }, 1000 * this.time)
    }
    return o;
  }
  o.recover = function(bloods) {
    console.log(`Recover ${bloods} bloods`)
    return o;
  }
  o.sleep = function(sleepTime) {
    o.time = sleepTime;
    return o;
  }
  return o;
}
Hero("37er").sleep(10).kill(2);

// 0324
for(var i = 0; i < 5; i++) {
  setTimeout(function() {
    console.log(i)
  }, 1000);
  console.log(i)
}

this.a = null;
let aa = this.a;
const bb = () => {
  aa = {}
}
console.log(aa)

// 冒泡排序
function bubble(arr) {
  var exchange = arr.length;
  while(exchange) {
    var bound = exchange, exchange = 0;
    for(let i = 0; i < bound; i++) {
      if(arr[i] > arr[i+1]) {
        [arr[i], arr[i+1]] = [arr[i+1], arr[i]]
        exchange = i
      }
    }
  }
  return arr;
}
let arr1 = [4, 15, 8, 5, 1]
bubble(arr1)

// 插入排序
function insert(arr) {
  var newArr = []
  newArr.push(arr[0])
  for(let i = 1; i < arr.length; i++) {
    let A = arr[i];
    for(let j = newArr.length; j >= 0; j--) {
      let B = arr[j]
      if(A > B) {
        newArr.splice(j+1, 0, A)
        break
      }
      if(j === 0) newArr.unshift(A)
    }
  }
  return newArr
}
let arr2 = [4, 15, 8, 5, 1]
insert(arr2)

// 快速排序
function quicky(arr) {
  if(arr.length <= 0) return arr
  var middleIndex = Math.floor(arr.length/2)
  var middleValue = arr.splice(middleIndex, 1)[0]
  var leftList = [], rightList = []
  for(var i = 0; i < arr.length; i++) {
    let item = arr[i];
    item < middleValue ? leftList.push(item) : rightList.push(item)
  }
  return quicky(leftList).concat(middleValue).concat(quicky(rightList))


}

</script>
</html>